!!! 5

%html.no-js{:lang => "en"}
  %head
    %meta{:charset => "utf-8"}/
    / www.phpied.com/conditional-comments-block-downloads/
    /[if IE]
    /
      Always force latest IE rendering engine (even in intranet) &amp; Chrome Frame
      Remove this if you use the .htaccess
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    %title= "#{@title} ~ Grid5000"
      
    /
      Mobile Viewport Fix
      j.mp/mobileviewport &amp; davidbcalhoun.com/2010/viewport-metatag
      device-width : Occupy full width of the screen in its current orientation
      initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
      maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
    %meta{:content => "width=device-width; initial-scale=1.0; maximum-scale=1.0;", :name => "viewport"}
    / Place favicon.ico and apple-touch-icon.png in the root of your domain and delete these references
    %link{:href => "/favicon.ico", :rel => "shortcut icon"}
    %link{:href => "/apple-touch-icon.png", :rel => "apple-touch-icon"}
    / CSS : implied media="all"
    
    %link{:href => relative_path_to("/stylesheets/vendor/jquery-facebox.css"), :rel => "stylesheet", :type => "text/css", :media => "screen, projection"}
    %link{:href => relative_path_to("/stylesheets/screen.css"), :rel => "stylesheet", :type => "text/css", :media => "screen, projection"}
    %link{:href => relative_path_to("/stylesheets/print.css"), :rel => "stylesheet", :type => "text/css", :media => "print"}
    /[if IE]
    %link{:href => relative_path_to("/stylesheets/ie.css"), :rel => "stylesheet", :type => "text/css", :media => "screen, projection"}
    /[endif]
    
    = yield(:before_js)
    
    %script{:src => "https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"}
    %script{:src => relative_path_to("/javascripts/vendor/jquery-ui.js")}
    %script{:src => relative_path_to("/javascripts/vendor/jquery-jgrowl.js")}
    %script{:src => relative_path_to("/javascripts/vendor/underscore.js")}
    %script{:src => relative_path_to("/javascripts/vendor/json2.js")}
    %script{:src => relative_path_to("/javascripts/vendor/base64.js")}
    %script{:src => relative_path_to("/javascripts/vendor/jquery-scrollTo.js")}
    %script{:src => relative_path_to("/javascripts/vendor/jquery-facebox.js")}
    %script{:src => relative_path_to("/javascripts/vendor/jquery-tipsy.js")}
    %script{:src => relative_path_to("/javascripts/lib/http.js")}
    %script{:src => relative_path_to("/javascripts/lib/widget.js")}
    
    %link{:href => relative_path_to("/stylesheets/vendor/jquery-jgrowl.css"), :rel => "stylesheet", :type => "text/css", :media => "screen, projection"}
    %link{:href => relative_path_to("/stylesheets/vendor/jquery-tipsy.css"), :rel => "stylesheet", :type => "text/css", :media => "screen, projection"}
    %link{:href => relative_path_to("/stylesheets/vendor/sunny/jquery-ui.css"), :rel => "stylesheet", :type => "text/css", :media => "screen, projection"}
    
    = yield(:head)
    
    %script{:src => relative_path_to("/javascripts/app/#{@title.downcase.gsub(/\s/,'-')}.js")}
    
  / paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/
  /[if lt IE 7 ] <body class="ie6">
  /[if IE 7 ] <body class="ie7">
  /[if IE 8 ] <body class="ie8">
  /[if IE 9 ] <body class="ie9">
  <!--[if (gt IE 9)|!(IE)]><!-->
  %body.bp.two-col{:class => @title.downcase.gsub(/\s/,'-')}
    <!--<![endif]-->
    #container.container
      %header#header
        %ul
          %li= link_to "Dashboard", relative_path_to("/dashboard"), :title => "dashboard"
          %li= link_to "Quick Start", relative_path_to("/quick-start.html"), :title => "quick-start"
          %li= link_to "Jobs", relative_path_to("/jobs.html?state=running,waiting"), :title => "jobs"
          %li= link_to "Metrics",relative_path_to("/metrics.html"), :title => "metrics"
          %li= link_to "Visualizations", relative_path_to("/visualizations.html"), :title => "visualizations"
          %li= link_to "Events", relative_path_to("/events.html"), :title => "events"
          %li= link_to "Help", "https://api.grid5000.fr", :title => "index"
      #main
        = yield
      %footer#footer
        %hr
        %p.license Built using the <a href="https://api.grid5000.fr">Grid5000 APIs</a>
        %ul.navigation
          %li <a href="http://twitter.com/grid5000">Twitter</a>
          %li <a href="https://www.grid5000.fr/bugzilla/enter_bug.cgi">Report a bug</a>
          %li <a href="mailto:cyril.rohr@irisa.fr">Contact</a>
    / ! end of #container


